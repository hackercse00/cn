//OPTIMAL
#include<stdio.h>
void main(){
    int m,n,i,j,k,temp,pf=0,max,b;
    printf("Enter the number of frames : ");
    scanf("%d",&n);
    printf("Enter the size of the input string : ");
    scanf("%d",&m);
    int a[m],frame[n],count[n];
    for(i=0;i<n;i++){
        frame[i]=-1;
    }
    printf("Enter the input string : ");
    for(i=0;i<m;i++){
        scanf("%d",&a[i]);
    }
    printf("The frames are : \n");
    for(i=0;i<m;i++){
   temp=0;
        for(j=0;j<n;j++){
            if(frame[j]==a[i]){
                temp=1;
                break;
}
        }
        if(temp!=1){
   for(j=0;j<n;j++){
                if(frame[j]==-1){
                    frame[j]=a[i];
                    temp=2;
                    break;
}
            }
   }
        if(temp==0){
            for(j=0;j<n;j++){
                count[j]=100;
            }
            for(k=0;k<n;k++){
                for(j=i+1;j<m;j++){
                    if(frame[k]==a[j]){
                        count[k]=j;
                        break;
                    }
                }
            }
            max=count[0],b=0;
            for(j=1;j<n;j++){
                if(count[j]>max){
                    max=count[j];
                    b=j;
                }
            }
            frame[b]=a[i];
        }
        if(temp!=1){
pf++;
            printf("\t\t");
            for(j=0;j<n;j++){
                if(frame[j]!=-1){
printf("%d  ",frame[j]);
                }
            }
            printf("\n");
        }
    }
    printf("The page fault is : %d\n",pf);
}
