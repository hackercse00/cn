//FCFS
#include<stdio.h>
struct fcfs
{
        int pid,at,bt,st,ft,wt,tt;
};
void main()
{
        int n,i,j,k;
        float wavg=0,tavg=0;
        struct fcfs f[100],temp;
        printf("Enter the number of process : ");
        scanf("%d",&n);
        for(i=0;i<n;i++)
        {
            printf("Enter the details of the process %d -\n",i+1);
            printf("\tEnter the arrival time : ");
            scanf("%d",&f[i].at);
            printf("\tEnter the burst time : ");
            scanf("%d",&f[i].bt);
            f[i].pid=i+1;
        }
        for(i=0;i<n-1;i++)
        {
                for(j=0;j<n-i-1;j++)
                {
                        if(f[j].at>f[j+1].at)
                        {
                                temp=f[j];
                                f[j]=f[j+1];
                                f[j+1]=temp;
                        }
                }
        }
        f[0].st=f[0].at;
        for(i=0;i<n-1;i++)
        {
                if(f[i].st+f[i].bt>f[i+1].at)
                {
                        f[i+1].st=f[i].st+f[i].bt;
                }
                else
                {
                        f[i+1].st=f[i+1].at;
                }
        }
        for(i=0;i<n;i++)
        {
                f[i].ft=f[i].st+f[i].bt;
                f[i].wt=f[i].st-f[i].at;
                f[i].tt=f[i].wt+f[i].bt;
                wavg=wavg+f[i].wt;
                tavg=tavg+f[i].tt;
        }
        for(i=0;i<n-1;i++)
        {
                for(j=0;j<n-i-1;j++)
                {
                        if(f[j].pid>f[j+1].pid)
                        {
                                temp=f[j];
                                f[j]=f[j+1];
                                f[j+1]=temp;
                        }
                }
        }
        printf("Process\tArrivalTime\tBurstTime\tStartTime\tFinalTime\tWaitTime\tTurnaroundTime\n");
        for(i=0;i<n;i++)
        {
                printf("%d\t%d\t\t%d\t\t%d\t\t%d\t\t%d\t\t%d\n",f[i].pid,f[i].at,f[i].bt,f[i].st,f[i].ft,f[i].wt,f[i].tt);
        }
        printf("The average waiting time is : %2f\n",wavg/n);
        printf("The average turn around time is : %2f\n",tavg/n);
}
